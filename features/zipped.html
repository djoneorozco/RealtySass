<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Mon Sep 15 2025 14:38:18 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="68c24c2a555c57a7e41a08b7" data-wf-site="68ab0c767e65bfdde9efba3b" lang="en">
<head>
  <meta charset="utf-8">
  <title>Zipped</title>
  <meta content="Explore luxury on High-End Realty&#x27;s sleek site. Customize our responsive real estate Webflow template effortlessly. Connect to our powerful CMS and E-commerce today." name="description">
  <meta content="Zipped" property="og:title">
  <meta content="Explore luxury on High-End Realty&#x27;s sleek site. Customize our responsive real estate Webflow template effortlessly. Connect to our powerful CMS and E-commerce today." property="og:description">
  <meta content="https://cdn.prod.website-files.com/6688dd0add61af9d990077eb/66def8f549c69f8ce8ca8210_SEO.jpg" property="og:image">
  <meta content="Zipped" property="twitter:title">
  <meta content="Explore luxury on High-End Realty&#x27;s sleek site. Customize our responsive real estate Webflow template effortlessly. Connect to our powerful CMS and E-commerce today." property="twitter:description">
  <meta content="https://cdn.prod.website-files.com/6688dd0add61af9d990077eb/66def8f549c69f8ce8ca8210_SEO.jpg" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/new-orozco-realty.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Varela:400","Vollkorn:400,400italic,700,700italic","Great Vibes:400","Merriweather:300,300italic,400,400italic,700,700italic,900,900italic","Changa One:400,400italic","Gilda Display:regular","Barlow:200,200italic,300,300italic,regular,italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Barlow Condensed:100,100italic,200,200italic,300,300italic,regular,italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Material Symbols Outlined:100,200,300,regular,500,600,700"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
  :root{
    --bg:#0f1220; --card:#181b2e; --ink:#e9ecff; --muted:#a8b0d6;
    --accent:#6aa7ff; --accent-2:#8ef3c5; --danger:#ff6b6b;
    --ok:#55d399; --warning:#f9c74f; --chip:#222642;
    --shadow:0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.04);
    --radius:18px;
  }
  html,body{height:100%;}
  body{
    margin:0; background: radial-gradient(1200px 800px at 10% -10%, rgba(106,167,255,0.15), transparent 50%),
                             radial-gradient(900px 700px at 110% 20%, rgba(142,243,197,0.12), transparent 50%),
                             var(--bg);
    color:var(--ink); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    -webkit-font-smoothing:antialiased; line-height:1.45;
  }
  .wrap{max-width:1120px; margin:32px auto; padding:0 16px 56px;}
  .header{display:flex; align-items:center; gap:16px; margin-bottom:18px;}
  .logo{width:56px; height:56px; border-radius:14px; display:grid; place-items:center;
    background: linear-gradient(145deg, rgba(106,167,255,0.25), rgba(142,243,197,0.18));
    box-shadow: var(--shadow); font-weight:800; font-size:20px; color:var(--ink);}
  h1{margin:0; font-size:28px; letter-spacing:0.2px;}
  .subtitle{color:var(--muted); margin:6px 0 0; font-size:14px;}
  .grid{display:grid; grid-template-columns:1.1fr 1fr; gap:20px;}
  @media (max-width: 980px){ .grid{ grid-template-columns:1fr; } }
  .card{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px;}
  .card h2{margin:0 0 12px; font-size:18px;}
  .row{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
  @media (max-width:700px){ .row{grid-template-columns:1fr;} }
  .field{display:flex; flex-direction:column; gap:8px;}
  .field label{font-size:12px; color:var(--muted);}
  .input, select, button, .slider{border:1px solid rgba(255,255,255,0.06); background:#0f1220; color:var(--ink);
    border-radius:12px; padding:12px 12px; font-size:14px; outline:none;}
  .btn{cursor:pointer; background:linear-gradient(135deg, var(--accent), #7ec8ff); color:#041125; font-weight:800;}
  .btn.secondary{background:linear-gradient(135deg, #7de9bd, var(--accent-2)); color:#0b1a10;}
  .kpi{display:grid; grid-template-columns: repeat(4, 1fr); gap:14px;}
  @media (max-width:820px){ .kpi{grid-template-columns:1fr 1fr;} }
  .kpi .box{background:#0f1220; border:1px solid rgba(255,255,255,0.06); border-radius:16px; padding:14px;}
  .kpi .box small{color:var(--muted)}
  .kpi .box b{display:block; margin-top:6px; font-size:18px;}
  .meter{height:14px; border-radius:999px; background:#0b0f23; border:1px solid rgba(255,255,255,0.06); overflow:hidden;}
  .meter div{height:100%;}
  .legend{display:flex; gap:12px; flex-wrap:wrap;}
  .legend .tag{display:inline-flex; align-items:center; gap:8px; font-size:12px; color:var(--muted)}
  .legend .dot{width:10px; height:10px; border-radius:50%}
  .status{display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:12px; background:#0f1326; border:1px solid rgba(255,255,255,0.06)}
  .status.ok{outline:2px solid rgba(85,211,153,0.25)}
  .status.warn{outline:2px solid rgba(249,199,79,0.25)}
  .status.bad{outline:2px solid rgba(255,107,107,0.25)}
  .note{color:var(--muted); font-size:12px}
  .footer{margin-top:26px; color:var(--muted); font-size:12px; text-align:center}
</style>
</head>
<body>
  <div data-animation="over-left" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-3 navbar-2 w-nav"></div>
  <section class="section">
    <section>
      <section></section>
    </section>
  </section>
  <section class="section-52">
    <section>
      <section class="section-54">
        <section class="hero-2">
          <div class="container-5">
            <div class="page-vertical-padding"></div>
          </div>
          <div class="hero-bg-bottom-block">
            <section><img loading="lazy" src="https://cdn.prod.website-files.com/6873ab8c958ec6cc6c5b2fa3/6873ab8c958ec6cc6c5b3053_hero-bottom-bg-img.svg" alt="" class="hero-bg-bottom-image">
              <div id="w-node-_614017eb-4ad2-3f77-dcae-77d281ad666e-e41a08b7" class="w-layout-layout wf-layout-layout">
                <div class="w-layout-cell"></div>
                <div class="w-layout-cell"></div>
              </div>
            </section>
          </div>
          <div data-w-id="8865f875-cf64-2251-cb19-81d6a40e417c" class="why-decore-block">
            <div style="-webkit-transform:translate3d(0, 80px, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 80px, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 80px, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 80px, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="why-decore-background-image-block"><img loading="lazy" src="../images/why-decore-bg-img.svg" alt="" class="why-decore-background-image"></div>
            <div class="why-decore-content-block">
              <div class="why-decore-content-item one"><img style="-webkit-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" sizes="(max-width: 1200px) 100vw, 1200px" alt="" src="../images/75B4C313-1409-4E7B-8941-66EF284B40ED.png" loading="lazy" srcset="../images/75B4C313-1409-4E7B-8941-66EF284B40ED-p-500.png 500w, ../images/75B4C313-1409-4E7B-8941-66EF284B40ED-p-800.png 800w, ../images/75B4C313-1409-4E7B-8941-66EF284B40ED-p-1080.png 1080w, ../images/75B4C313-1409-4E7B-8941-66EF284B40ED.png 1200w" class="why-decore-content-image one">
                <div style="-webkit-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="why-decore-item-right-block one">
                  <div class="why-decore-item-icon-block one"><img width="200" height="200" alt="Graphical representation image" src="../images/service-grow-card.svg" loading="lazy" class="why-decore-icon"></div>
                </div>
              </div>
              <div class="why-decore-content-item two">
                <div style="-webkit-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(-100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="why-decore-item-right-block two">
                  <div class="why-decore-item-icon-block two"><img loading="lazy" src="../images/chart-up-icon.svg" alt="Chart icon" class="why-decore-icon"></div>
                </div><img style="-webkit-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" sizes="(max-width: 2505px) 100vw, 2505px" alt="" src="../images/luxurypool.jpg" loading="lazy" srcset="../images/luxurypool-p-500.jpg 500w, ../images/luxurypool-p-800.jpg 800w, ../images/luxurypool-p-1080.jpg 1080w, ../images/luxurypool-p-1600.jpg 1600w, ../images/luxurypool-p-2000.jpg 2000w, ../images/luxurypool.jpg 2505w" class="why-decore-content-image two">
              </div>
              <div class="why-decore-content-item three"><img style="-webkit-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0, 0) scale3d(0, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" sizes="(max-width: 3840px) 100vw, 3840px" alt="" src="../images/daniel-barnes-CBkjlVe-dK0-unsplash.jpg" loading="lazy" srcset="../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-500.jpg 500w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-800.jpg 800w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-1080.jpg 1080w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-1600.jpg 1600w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-2000.jpg 2000w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-2600.jpg 2600w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash-p-3200.jpg 3200w, ../images/daniel-barnes-CBkjlVe-dK0-unsplash.jpg 3840w" class="why-decore-content-image three">
                <div style="-webkit-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(100%, 0, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="why-decore-item-right-block three">
                  <div class="why-decore-item-icon-block three"><img loading="lazy" src="../images/checkmark-icon.svg" alt="Checked icon" class="why-decore-icon"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="w-embed w-script"><!--  Zipped — ZIP Intelligence Dashboard (Webflow BYOB)  -->
            <div id="zipped-widget" data-version="1.1">
              <style>
    /* //#1 — Base styles */
    #zipped-widget * { box-sizing: border-box; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    #zipped { max-width: 1140px; margin: 0 auto; padding: 20px; color: #0f1220; }
    .zw-card { background: #fff; border: 1px solid rgba(0,0,0,.08); border-radius: 14px; box-shadow: 0 8px 24px rgba(0,0,0,.06); padding: 18px; margin-bottom: 16px; }
    .zw-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .zw-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    .zw-h { margin: 8px 0 12px; font-weight: 800; letter-spacing: .2px; }
    .zw-sub { color: #5a6275; font-size: 13px; }
    .zw-kpi { font-size: 26px; font-weight: 900; }
    .zw-label { font-size: 12px; color: #5a6275; }
    .zw-flex { display: flex; gap: 12px; align-items: center; }
    .zw-input { flex: 1; padding: 12px 14px; border: 1px solid rgba(0,0,0,.15); border-radius: 12px; font-size: 16px; }
    .zw-btn { padding: 12px 18px; border: 1px solid #0f1220; background: #0f1220; color: #fff; border-radius: 12px; cursor: pointer; font-weight: 800; }
    .zw-btn:disabled { opacity: .6; cursor: not-allowed; }
    .zw-badge { display:inline-block; padding: 4px 10px; border-radius: 999px; background: #f3f4f6; font-size: 12px; color:#374151; }
    .zw-monotext { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .zw-table { width: 100%; border-collapse: collapse; }
    .zw-table th, .zw-table td { padding: 8px 10px; border-bottom: 1px solid #eee; text-align: left; font-size: 14px; }
    .zw-foot { font-size: 12px; color: #6b7280; margin-top: 8px; }
    @media (max-width: 980px) { .zw-row, .zw-grid { grid-template-columns: 1fr; } }
  </style>
              <div id="zipped">
                <!--  //#2 — Header + Controls  -->
                <div class="zw-card">
                  <div class="zw-flex" style="justify-content: space-between; align-items: flex-end;">
                    <div style="flex:1; margin-right:12px;">
                      <h2 class="zw-h">Zipped — ZIP Intelligence Dashboard</h2>
                      <div class="zw-sub">Enter a ZIP. We’ll compare it to <span class="zw-monotext" id="zw-city-label">San Antonio, TX</span> using your BYOB data pipeline.</div>
                    </div>
                    <span class="zw-badge">BYOB</span>
                  </div>
                  <div class="zw-flex" style="margin-top:12px;">
                    <input id="zw-zip" class="zw-input" inputmode="numeric" pattern="[0-9]*" maxlength="5" placeholder="Enter ZIP (e.g., 78046)">
                    <button id="zw-run" class="zw-btn">Analyze</button>
                  </div>
                  <div class="zw-foot">API: <span class="zw-monotext">https://theorozcorealty.netlify.app/api/stage</span> • Last update: <span id="zw-last">—</span></div>
                </div>
                <!--  //#3 — KPI Row  -->
                <div class="zw-row">
                  <div class="zw-card">
                    <div class="zw-label">Median Home Value (ZIP → City)</div>
                    <div class="zw-kpi"><span id="kpi-home-zip">—</span> → <span id="kpi-home-city">—</span></div>
                  </div>
                  <div class="zw-card">
                    <div class="zw-label">Typical Rent (ZIP → City)</div>
                    <div class="zw-kpi"><span id="kpi-rent-zip">—</span> → <span id="kpi-rent-city">—</span></div>
                  </div>
                </div>
                <!--  //#4 — Section 1: Housing & Economics  -->
                <div class="zw-card">
                  <h3 class="zw-h">1) Housing Costs, Mortgage & Rent, Economics, Jobs</h3>
                  <div class="zw-grid">
                    <canvas id="ch-housing"></canvas>
                    <table class="zw-table">
                      <thead>
                        <tr>
                          <th>Metric</th>
                          <th>ZIP</th>
                          <th>City</th>
                        </tr>
                      </thead>
                      <tbody id="tbl-housing"></tbody>
                    </table>
                  </div>
                </div>
                <!--  //#5 — Section 2: Demographic, Language, Lifestyle, Cultural  -->
                <div class="zw-card">
                  <h3 class="zw-h">2) Demographic, Language, Lifestyle, Cultural</h3>
                  <div class="zw-grid">
                    <canvas id="ch-demo"></canvas>
                    <table class="zw-table">
                      <thead>
                        <tr>
                          <th>Metric</th>
                          <th>ZIP</th>
                          <th>City</th>
                        </tr>
                      </thead>
                      <tbody id="tbl-demo"></tbody>
                    </table>
                  </div>
                </div>
                <!--  //#6 — Section 3: Schools, Crime, Risks, Health Environment  -->
                <div class="zw-card">
                  <h3 class="zw-h">3) Schools, Crime, Risks, Health Environment</h3>
                  <div class="zw-grid">
                    <canvas id="ch-scrh"></canvas>
                    <table class="zw-table">
                      <thead>
                        <tr>
                          <th>Metric</th>
                          <th>ZIP</th>
                          <th>City</th>
                        </tr>
                      </thead>
                      <tbody id="tbl-scrh"></tbody>
                    </table>
                  </div>
                </div>
                <!--  //#7 — Section 4: Parks, Entertainment, Sports, Tech  -->
                <div class="zw-card">
                  <h3 class="zw-h">4) Parks, Entertainment, Sports, Tech</h3>
                  <div class="zw-grid">
                    <canvas id="ch-lifestyle"></canvas>
                    <table class="zw-table">
                      <thead>
                        <tr>
                          <th>Metric</th>
                          <th>ZIP</th>
                          <th>City</th>
                        </tr>
                      </thead>
                      <tbody id="tbl-life"></tbody>
                    </table>
                  </div>
                </div>
                <!--  //#8 — Section 5: Summary  -->
                <div class="zw-card">
                  <h3 class="zw-h">5) Summary (ZIP vs City)</h3>
                  <div id="zw-summary" class="zw-sub"></div>
                </div>
              </div>
            </div>
            <!--  //#9 — Vendor: Chart.js  -->
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <!--  //#10 — App Script  -->
            <script>
(function(){
  // CONFIG
  const API_STAGE = "https://theorozcorealty.netlify.app/api/stage"; // your Netlify stage function
  const $ = (id) => document.getElementById(id);
  const $zip = $('zw-zip');
  const $run = $('zw-run');
  // Charts (refs for destroy-on-rerender)
  let chHousing, chDemo, chSCRH, chLife;
  //#A — Mock data (renders instantly; auto-replaced when API succeeds)
  const MOCK = (zip) => ({
    zip,
    city: "San Antonio, TX",
    lastUpdated: new Date().toISOString().slice(0,10),
    housing: {
      medianHomeValue_zip: 187300, medianHomeValue_city: 301500,
      typicalRent_zip: 1200, typicalRent_city: 1450,
      medianMortgage_zip: 1150, medianMortgage_city: 1750,
      householdIncome_zip: 53601, householdIncome_city: 70650,
      unemployment_zip: 4.6, unemployment_city: 3.9
    },
    demographics: {
      medianAge_zip: 26.5, medianAge_city: 34.1,
      hhSize_zip: 3.9, hhSize_city: 2.7,
      language_spanish_pct_zip: 86, language_spanish_pct_city: 43,
      education_ltHS_pct_zip: 36, education_ltHS_pct_city: 14
    },
    schoolsCrimeRiskHealth: {
      hsRating_zip: 93, hsRating_city: 88,
      crime_property_per_1k_zip: 14.5, crime_property_per_1k_city: 26.2,
      crime_violent_per_1k_zip: 4.1, crime_violent_per_1k_city: 6.7,
      floodRisk_props_30yr_zip: 1791,
      floodRisk_pct_zip: 8.1, floodRisk_pct_city: 6.4,
      airQuality_pm25_zip: 9.8, airQuality_pm25_city: 8.7
    },
    lifestyle: {
      parks_per_10k_zip: 1.8, parks_per_10k_city: 3.2,
      sports_presence_zip: ["youth soccer","school baseball"],
      sports_presence_city: ["Spurs (NBA)","Missions (MiLB)"],
      tech_broadband_pct_zip: 91, tech_broadband_pct_city: 94,
      events_sample_zip: ["Back-to-School Fair","Community Zumba Night"]
    },
    notes: "MOCK DATA — replace with your API output"
  });
  //#B — API call to your BYOB function
  async function fetchZip(zip){
    const payload = { tool: "zipped.fetch_zip_profile", args: { zip } };
    try {
      const res = await fetch(API_STAGE, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });
      if (!res.ok) throw new Error("HTTP " + res.status);
      const data = await res.json();
      return (data && data.result) ? data.result : data; // unwrap if you wrap result
    } catch (err) {
      console.warn("[Zipped] Using MOCK due to error:", err.message);
      return MOCK(zip);
    }
  }
  //#C — Formatting helpers
  const fmtUSD = (n) => (n==null||isNaN(n)) ? "—" : "$"+Number(n).toLocaleString();
  const fmtPct = (n) => (n==null||isNaN(n)) ? "—" : Number(n).toFixed(1)+"%";
  const fmt = (n) => (n==null) ? "—" : String(n);
  //#D — UI population
  function setKPIs(d){
    $('kpi-home-zip').textContent  = fmtUSD(d?.housing?.medianHomeValue_zip);
    $('kpi-home-city').textContent = fmtUSD(d?.housing?.medianHomeValue_city);
    $('kpi-rent-zip').textContent  = fmtUSD(d?.housing?.typicalRent_zip);
    $('kpi-rent-city').textContent = fmtUSD(d?.housing?.typicalRent_city);
    $('zw-city-label').textContent = d.city || "San Antonio, TX";
    $('zw-last').textContent = d.lastUpdated || "—";
  }
  function tableRows(map){ return Object.entries(map).map(([label, pair]) => {
    return `<tr><td>${label}</td><td>${pair[0]}</td><td>${pair[1]}</td></tr>`;
  }).join(""); }
  function renderTables(d){
    const h = d.housing || {};
    const g = d.demographics || {};
    const s = d.schoolsCrimeRiskHealth || {};
    const l = d.lifestyle || {};
    $('tbl-housing').innerHTML = tableRows({
      "Median Home Value": [fmtUSD(h.medianHomeValue_zip), fmtUSD(h.medianHomeValue_city)],
      "Typical Rent": [fmtUSD(h.typicalRent_zip), fmtUSD(h.typicalRent_city)],
      "Median Mortgage": [fmtUSD(h.medianMortgage_zip), fmtUSD(h.medianMortgage_city)],
      "Household Income": [fmtUSD(h.householdIncome_zip), fmtUSD(h.householdIncome_city)],
      "Unemployment": [fmtPct(h.unemployment_zip), fmtPct(h.unemployment_city)],
    });
    $('tbl-demo').innerHTML = tableRows({
      "Median Age": [fmt(g.medianAge_zip), fmt(g.medianAge_city)],
      "Household Size": [fmt(g.hhSize_zip), fmt(g.hhSize_city)],
      "Spanish at Home %": [fmtPct(g.language_spanish_pct_zip), fmtPct(g.language_spanish_pct_city)],
      "<HS Education %": [fmtPct(g.education_ltHS_pct_zip), fmtPct(g.education_ltHS_pct_city)],
    });
    $('tbl-scrh').innerHTML = tableRows({
      "HS Rating (0–100)": [fmt(s.hsRating_zip), fmt(s.hsRating_city)],
      "Property Crime /1k": [fmt(s.crime_property_per_1k_zip), fmt(s.crime_property_per_1k_city)],
      "Violent Crime /1k": [fmt(s.crime_violent_per_1k_zip), fmt(s.crime_violent_per_1k_city)],
      "Flood Risk % props": [fmtPct(s.floodRisk_pct_zip), fmtPct(s.floodRisk_pct_city)],
      "At-risk props (30yr)": [fmt(s.floodRisk_props_30yr_zip), "—"],
      "PM2.5 (µg/m³)": [fmt(s.airQuality_pm25_zip), fmt(s.airQuality_pm25_city)],
    });
    $('tbl-life').innerHTML = tableRows({
      "Parks per 10k": [fmt(l.parks_per_10k_zip), fmt(l.parks_per_10k_city)],
      "Broadband %": [fmtPct(l.tech_broadband_pct_zip), fmtPct(l.tech_broadband_pct_city)],
      "Sports (ZIP)": [(l.sports_presence_zip||[]).join(", "), (l.sports_presence_city||[]).join(", ")],
      "Events (ZIP sample)": [(l.events_sample_zip||[]).join(" · "), "—"],
    });
    const summary = `
      <b>${d.zip}</b> vs <b>${d.city}</b>: Home values ${fmtUSD(h.medianHomeValue_zip)} vs ${fmtUSD(h.medianHomeValue_city)},
      rent ${fmtUSD(h.typicalRent_zip)} vs ${fmtUSD(h.typicalRent_city)}. Younger HHs (size ${fmt(g.hhSize_zip)}), higher Spanish usage.
      Schools ${fmt(s.hsRating_zip)}/100 vs ${fmt(s.hsRating_city)}/100. Property crime ${fmt(s.crime_property_per_1k_zip)}/1k vs ${fmt(s.crime_property_per_1k_city)}/1k;
      flood risk ${fmtPct(s.floodRisk_pct_zip)} vs ${fmtPct(s.floodRisk_pct_city)}; broadband ${fmtPct(l.tech_broadband_pct_zip)} vs ${fmtPct(l.tech_broadband_pct_city)}.
    `;
    $('zw-summary').innerHTML = summary;
  }
  function barConfig(labels, zipVals, cityVals, title){
    return {
      type: 'bar',
      data: { labels, datasets: [
        { label: 'ZIP', data: zipVals },
        { label: 'City', data: cityVals }
      ]},
      options: { responsive: true, plugins: { title: { display: true, text: title } } }
    };
  }
  function renderCharts(d){
    const h = d.housing || {};
    const g = d.demographics || {};
    const s = d.schoolsCrimeRiskHealth || {};
    const l = d.lifestyle || {};
    // clean re-renders
    [chHousing, chDemo, chSCRH, chLife].forEach(ch => { if (ch && ch.destroy) ch.destroy(); });
    chHousing = new Chart(document.getElementById('ch-housing'), barConfig(
      ['Median Home Value','Typical Rent','Median Mortgage','Household Income','Unemployment %'],
      [h.medianHomeValue_zip, h.typicalRent_zip, h.medianMortgage_zip, h.householdIncome_zip, h.unemployment_zip],
      [h.medianHomeValue_city, h.typicalRent_city, h.medianMortgage_city, h.householdIncome_city, h.unemployment_city],
      'Housing & Economics — ZIP vs City'
    ));
    chDemo = new Chart(document.getElementById('ch-demo'), barConfig(
      ['Median Age','HH Size','Spanish %','<HS %'],
      [g.medianAge_zip, g.hhSize_zip, g.language_spanish_pct_zip, g.education_ltHS_pct_zip],
      [g.medianAge_city, g.hhSize_city, g.language_spanish_pct_city, g.education_ltHS_pct_city],
      'Demographics, Language, Cultural — ZIP vs City'
    ));
    chSCRH = new Chart(document.getElementById('ch-scrh'), barConfig(
      ['HS Rating','Property /1k','Violent /1k','Flood %','PM2.5'],
      [s.hsRating_zip, s.crime_property_per_1k_zip, s.crime_violent_per_1k_zip, s.floodRisk_pct_zip, s.airQuality_pm25_zip],
      [s.hsRating_city, s.crime_property_per_1k_city, s.crime_violent_per_1k_city, s.floodRisk_pct_city, s.airQuality_pm25_city],
      'Schools • Crime • Risks • Health — ZIP vs City'
    ));
    chLife = new Chart(document.getElementById('ch-lifestyle'), barConfig(
      ['Parks per 10k','Broadband %'],
      [l.parks_per_10k_zip, l.tech_broadband_pct_zip],
      [l.parks_per_10k_city, l.tech_broadband_pct_city],
      'Parks • Entertainment • Sports • Tech — ZIP vs City'
    ));
  }
  //#E — Run
  async function analyze(){
    const zip = ($zip.value || "").trim();
    if (!/^\d{5}$/.test(zip)) { alert("Please enter a valid 5-digit ZIP."); return; }
    $run.disabled = true; $run.textContent = "Loading…";
    const data = await fetchZip(zip);
    setKPIs(data);
    renderTables(data);
    renderCharts(data);
    $run.disabled = false; $run.textContent = "Analyze";
  }
  $run.addEventListener('click', analyze);
  $zip.addEventListener('keydown', (e)=>{ if (e.key === 'Enter') analyze(); });
  // preload example
  $zip.value = "78046";
})();
</script>
          </div>
        </section>
        <section>
          <section class="process">
            <div class="container-5">
              <div class="page-vertical-padding"></div>
            </div>
            <div data-w-id="9faff796-14aa-4739-225c-891786529b92" style="-webkit-transform:translate3d(0, 0, 0) scale3d(1, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 0, 0) scale3d(1, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 0, 0) scale3d(1, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 0, 0) scale3d(1, 0, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="process-bg-image"></div>
          </section>
          <section>
            <section id="about" class="about">
              <div class="container-5">
                <div class="page-vertical-padding"></div>
              </div>
              <section>
                <div class="why-content-block"></div>
              </section>
            </section>
          </section>
        </section>
      </section>
    </section>
  </section>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68ab0c767e65bfdde9efba3b" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script><!--  RE-Defined: Virtual Staging (Netlify Integration)  -->
  <script>
(() => {
  // 1) Your new Netlify function endpoint
  const API_STAGE = "https://theorozcorealty.netlify.app/api/stage";
  // 2) Shortcuts
  const $ = s => document.querySelector(s);
  const form = $("#safeForm"), btn = $("#safeGo"), stat = $("#safeStatus"), grid = $("#safeResults");
  const setStatus = t => stat.textContent = t || "";
  // 3) Convert uploaded file → Base64 Data URL
  async function fileToDataURL(file) {
    if (!file) return "";
    if (file.size > 4 * 1024 * 1024) throw new Error("File exceeds 4MB. Upload to Cloudinary/S3 instead.");
    return new Promise((res, rej) => {
      const r = new FileReader();
      r.onload = () => res(r.result);
      r.onerror = () => rej(new Error("Failed to read file"));
      r.readAsDataURL(file);
    });
  }
  // 4) Form submit handler
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    setStatus("Generating…");
    btn.disabled = true;
    grid.innerHTML = "";
    const fd = new FormData(form);
    const payload = {
      room_type: fd.get("room_type") || "livingroom",
      design_style: fd.get("design_style") || "modern",
      num_images: Number(fd.get("num_images") || 1),
      scale_factor: Number(fd.get("scale_factor") || 2),
      color_scheme: fd.get("color_scheme") || "COLOR_SCHEME_0",
      speciality_decor: fd.get("speciality_decor") || "SPECIALITY_DECOR_0",
      prompt: fd.get("prompt") || "",
      prompt_prefix: fd.get("prompt_prefix") || ""
    };
    const file = fd.get("image");
    const url = (fd.get("imageUrl") || "").trim();
    try {
      // Pick image source: URL first, then file
      if (url) {
        payload.input_image_url = url;
      } else if (file && file.size) {
        payload.input_image_url = await fileToDataURL(file);
      } else {
        throw new Error("Please provide an image file or a public image URL.");
      }
      // Send to Netlify
      const r = await fetch(API_STAGE, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      const j = await r.json().catch(() => ({}));
      if (!r.ok) throw new Error(j?.error || `Proxy error ${r.status}`);
      const imgs = j?.info?.images || [];
      if (!imgs.length) { setStatus("No images returned."); return; }
      setStatus("Done ✅");
      // Render results
      imgs.forEach(x => {
        const card = document.createElement("div");
        card.style.border = "1px solid #eee";
        card.style.borderRadius = "12px";
        card.style.overflow = "hidden";
        card.style.background = "#fff";
        const a = document.createElement("a");
        a.href = x.url; a.target = "_blank"; a.rel = "noopener";
        const im = document.createElement("img");
        im.src = x.url; im.alt = "Staged result"; im.style.width = "100%";
        a.appendChild(im);
        const meta = document.createElement("div");
        meta.style.padding = "8px 10px";
        meta.style.fontFamily = "system-ui";
        meta.textContent = `${x.width || ""}×${x.height || ""}`;
        card.appendChild(a);
        card.appendChild(meta);
        grid.appendChild(card);
      });
    } catch (err) {
      console.error(err);
      setStatus("Error: " + err.message);
    } finally {
      btn.disabled = false;
    }
  });
})();
</script>
</body>
</html>